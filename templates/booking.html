<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../static/booking.css">
    <link rel="icon" type="image/x-icon" href="../static/icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crafty+Girls&family=Dancing+Script&family=Lilita+One&family=Pacifico&family=Ubuntu:wght@300&display=swap" rel="stylesheet">

    <title></title>
  </head>
  <body>
    <div class="top">

        <div class="hb">
           <a href="/home" class="homeb"> BusManagement</a>
        </div>

        <p class="heading">Booking</p>

    </div>


    <div class="booking">
      <h1 align="center" style="font-family: 'Ubuntu',cursive;">You can click on the any of the below bus in the list to book</h1>

      <table cellspacing="0px">
        <tr><th>Sl. No</th><th>Bus Number</th>
          <th>Name</th><th>From</th>
          <th>To</th>
        </tr>
       
       
        <tbody class="rows">
        <a href="">
        <tr>
          <!-- Example Values -->
          <td>1</td> <!-- Serial No. -->
          <td>001</td> <!-- Bus Number -->
          <td>volvo</td> <!-- Bus Name -->
          <td>bengaluru</td> <!-- From -->
          <td>pondi</td> <!-- To -->
        </tr>
        </a>
      </tbody>  
      </table>
    </div>
   
   
   
    <div class="popup">
      <h2 class="timetext">Specify the departure time and please confirm your booking by 
        clicking on the button</h2>
      <select class="time">
        <!-- Here you have to enter the bus timings, below are example values -->
        <option>dsd</option>
        <option>dsa</option>
        <option>dsds</option> 
        <option>dsds</option>

        </select>
      <button type="submit" class="confirm"><b>Confirm</b></button>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
    <script> 
    var busno;
    var busname;
    var from;
    var to;
    var time;
    $(document).ready(function() {
      $("tr").click(function(){
        $('.popup').css("display","block");
        $('.popup').css("animation"," myAnim 1s ease 0s 1 normal forwards");
        busno = $(this).find('td:eq(1)').text();
        busname = $(this).find('td:eq(2)').text();
        from = $(this).find('td:eq(3)').text();
        to = $(this).find('td:eq(4)').text();
      });
      $(".confirm").click(function(e) {
          e.preventDefault();
            // Retrieve the entered values
            time=$(".time").val();
            console.log(time);
  
            // Send this data to the server here
            var data = {
                busno: busno,
                busname:busname,
                from:from,
                to:to
             };

             // Send the data to the server using AJAX
            $.ajax({
                url: '/delete_employee', // Replace with your server endpoint URL
                method: 'POST',
                data: data,
                success: function(response) {
                // Handle the server response
                console.log(response);

                // Optionally perform actions based on the response
                 },
                error: function(xhr, status, error) {
                // Handle any errors that occur during the AJAX request
                console.log('Error:', error);
                }
             });
  
             $('.popup').css("animation"," myAnim2 1s ease 0s 1 normal forwards");
            
         });
    });
    </script>
  </body>
</html>

